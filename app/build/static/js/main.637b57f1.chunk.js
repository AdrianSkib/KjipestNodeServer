(this["webpackJsonpkjipest-app"]=this["webpackJsonpkjipest-app"]||[]).push([[0],{101:function(e,t,a){e.exports=a(194)},106:function(e,t,a){},108:function(e,t,a){},191:function(e,t,a){e.exports=a.p+"static/media/rain.701bc143.svg"},192:function(e,t,a){e.exports=a.p+"static/media/partlycloudy.aa3b800f.svg"},193:function(e,t,a){e.exports=a.p+"static/media/logo.617bcacd.svg"},194:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(16),l=a.n(r),s=(a(106),a(61)),c=a(23),o=a.n(c),d=a(41),m=a(91),u=a(92),h=a(100),v=a(98),p=(a(108),a(62)),E=a.n(p),g=a(99),f=a(42),w=a(97),y=(a(187),a(63)),x=a.n(y),k=function(e){Object(h.a)(n,e);var t=Object(v.a)(n);function n(){var e;return Object(m.a)(this,n),(e=t.call(this)).listRef=i.a.createRef(),e.Row=function(t){var n=t.index,r=t.style;return e.state.flipList&&(n=e.state.data.length-n-3>0?e.state.data.length-n-3:0),i.a.createElement("div",{className:"listelement",style:r},i.a.createElement("div",{className:"elementelement",id:"rank"},n+1),i.a.createElement("div",{className:"elementelement",id:"location"},e.state.data[n].location),i.a.createElement("div",{className:"elementelement",id:"score"},e.state.data[n].kjipestScore.toFixed(2)),i.a.createElement("div",{className:"elementelement",id:"icon"},i.a.createElement("img",{src:a(191),alt:""})))},e.onSelect=function(t,a){e.state.flipList?e.listRef.current.scrollToItem(e.state.data.length-a.index-3,"start"):e.listRef.current.scrollToItem(a.index,"start"),e.setState({searchingFor:t})},e.renderItem=function(e){return i.a.createElement("div",{className:"searchItem"},e.location)},e.renderMenu=function(t,a,n){e.cellHeightCache.clearAll();return i.a.createElement(f.c,{rowHeight:e.cellHeightCache.rowHeight,rowCount:t.length,rowRenderer:function(a){var n=a.key,r=a.index,l=a.parent,s=a.style,c=t[r];return i.a.createElement(f.a,{cache:e.cellHeightCache,key:n,parent:l,rowIndex:r},i.a.cloneElement(c,{style:s,key:n,onMouseEnter:null,onMouseDown:function(e){0===e.button&&c.props.onClick(e)}}))},width:n.minWidth||0,style:{}})},e.handleResize=function(t){var a=document.getElementById("main"),n=document.getElementById("list"),i=document.getElementById("categories");document.getElementById("crank"),document.getElementById("cloc"),document.getElementById("cscore"),document.getElementById("cicon");a.style.height=window.innerHeight-160+"px",n.style.width=window.innerWidth-300+"px",i.style.width=window.innerWidth-300+"px",window.innerWidth<=e.state.mobileWidth&&(n.style.width="100%",i.style.width="100%"),e.setState({width:window.innerWidth})},e.cellHeightCache=new f.b({defaultHeight:42,fixedWidth:!0}),e.state={data:[],searchingFor:"",gotData:!1,currentLoc:"Laster din posisjon",currentIndex:-1,currentScore:-1,flipList:!1,orderText:"Kjipest \u2013 Minst kjipt \u2193",locData:{},hasPos:!1,lat:"",lon:"",width:window.innerWidth,mobileWidth:1e3},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=Object(d.a)(o.a.mark((function e(){var t,a,n,i,r,l,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.addEventListener("resize",this.handleResize),e.next=3,E.a.get("http://kjipestnodeserver.azurewebsites.net/sorted");case 3:return t=e.sent,e.next=6,t.data;case 6:if(a=e.sent,n=a.map((function(e,t){return e.index=t,e})),this.setState({data:n,gotData:!0}),i=this.state.width,i<=this.state.mobileWidth,document.getElementById("main").style.height=window.innerHeight-160+"px",(r=document.getElementById("list")).style.width=window.innerWidth-300+"px",(l=document.getElementById("categories")).style.width=window.innerWidth-300+"px",window.innerWidth<=this.state.mobileWidth&&(r.style.width="100%",l.style.width="100%",this.setState({data:n,gotData:!0})),!navigator.geolocation){e.next=23;break}return s=function(){var e=Object(d.a)(o.a.mark((function e(t){var a,i,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get("http://kjipestnodeserver.azurewebsites.net/lonlat/"+t.coords.longitude+"&"+t.coords.latitude);case 2:return a=e.sent,e.next=5,a.data;case 5:i=e.sent,r=n.find((function(e){return e.location===i.location})),this.setState({locData:i,currentLoc:i.location,currentIndex:r.index,currentScore:i.kjipestScore}),this.setState({lat:t.coords.latitude,lon:t.coords.longitude,hasPos:!0});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),e.next=23,navigator.geolocation.getCurrentPosition(s.bind(this));case 23:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){var e=Object(d.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.addEventListener("resize",this.handleResize);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"KjipestList",value:function(e){var t=this;return i.a.createElement("div",{style:{display:"flex"}},i.a.createElement("div",{style:{flex:"1 1 auto",height:"100vh"}},i.a.createElement(w.a,null,(function(a){var n=a.height,r=a.width;return i.a.createElement(g.a,{className:"List",height:n,itemCount:t.state.data.length,itemSize:e,width:r,ref:t.listRef,itemData:t.state.flipList},t.Row)}))))}},{key:"getLocalScore",value:function(){return this.state.currentScore<0?"__":this.state.currentScore.toFixed(2)}},{key:"getLocalPercentage",value:function(){return this.state.currentScore<0?"__":(this.state.currentIndex/this.state.data.length*100).toFixed(1).toString()+" %"}},{key:"renderPage",value:function(){var e=this,t=this.state.searchingFor,n=t?this.state.data.filter((function(e){return e.location.toLowerCase().includes(t.toLowerCase())})):[];return i.a.createElement("div",null,i.a.createElement("div",null,i.a.createElement("nav",null,i.a.createElement("div",{className:"nav",id:"search"},i.a.createElement(x.a,{items:n,value:this.state.searchingFor,renderItem:this.renderItem,renderMenu:this.renderMenu,getItemValue:function(e){return e.location},onChange:function(t,a){return e.setState({searchingFor:a})},onSelect:this.onSelect,inputProps:{placeholder:"s\xf8k"}})),i.a.createElement("div",{className:"nav",id:"navlist"},i.a.createElement("h2",null,"Liste")),i.a.createElement("div",{className:"nav"},i.a.createElement("h2",null,"Kart")),i.a.createElement("div",{className:"nav"},i.a.createElement("h2",null,"Info")))),i.a.createElement("div",{className:"subheader"},i.a.createElement("div",{id:"categories"},i.a.createElement("div",{className:"head",id:"crank"},i.a.createElement("h3",null,"Rangering")),i.a.createElement("div",{className:"head",id:"cloc"},i.a.createElement("h3",null,"Sted")),i.a.createElement("div",{className:"head",id:"cscore"},i.a.createElement("h3",{onClick:function(){e.state.flipList?(e.setState({orderText:"Kjipest \u2013 Minst kjipt \u2193",flipList:!1}),e.listRef.current.scrollToItem(0,"start")):(e.setState({orderText:"Kjipest \u2013 Minst kjipt \u2191",flipList:!0}),e.listRef.current.scrollToItem(0,"start"))}},this.state.orderText)),i.a.createElement("div",{className:"head",id:"cicon"},i.a.createElement("h3",null,"V\xe6rtyper"))),i.a.createElement("div",{id:"locName"},i.a.createElement("p",null,this.state.currentLoc),i.a.createElement("h3",null,"(Din posisjon)"))),i.a.createElement("div",{id:"main"},i.a.createElement("div",{id:"list"},this.KjipestList(60)),i.a.createElement("div",{className:"sidebar"},i.a.createElement("div",{className:"localinfo"},i.a.createElement("div",{id:"localscore"},i.a.createElement("h3",null,"Score:"),i.a.createElement("h1",null,this.getLocalScore())),i.a.createElement("img",{src:a(192),alt:""}),i.a.createElement("div",{className:"localrank"},i.a.createElement("h1",{className:"localpercentage"},this.getLocalPercentage()),i.a.createElement("h3",{className:"localpercentagebottom"},"av Norge har det kjipere enn deg"))),i.a.createElement("div",{className:"logo"},i.a.createElement("img",{src:a(193),alt:""})))),i.a.createElement("script",{type:"text/javascript",src:"./script.js"}))}},{key:"renderMobilePage",value:function(){var e,t=this,a=this.state.searchingFor,n=a?this.state.data.filter((function(e){return e.location.toLowerCase().includes(a.toLowerCase())})):[];return i.a.createElement("div",null,i.a.createElement("div",null,i.a.createElement("nav",null,i.a.createElement("div",(e={className:"nav"},Object(s.a)(e,"className","navsearch"),Object(s.a)(e,"id","search"),e),i.a.createElement(x.a,{items:n,value:this.state.searchingFor,renderItem:this.renderItem,renderMenu:this.renderMenu,getItemValue:function(e){return e.location},onChange:function(e,a){return t.setState({searchingFor:a})},onSelect:this.onSelect,inputProps:{placeholder:"s\xf8k"}})),i.a.createElement("div",{className:"nav",id:"navlist"},i.a.createElement("h2",null,"Liste")),i.a.createElement("div",{className:"nav"},i.a.createElement("h2",null,"Deg")),i.a.createElement("div",{className:"nav"},i.a.createElement("h2",null,"Kart")),i.a.createElement("div",{className:"nav"},i.a.createElement("h2",null,"Info")))),i.a.createElement("div",{className:"subheader"},i.a.createElement("div",{id:"categories"},i.a.createElement("div",{className:"head",id:"crank"},i.a.createElement("h3",null,"Rangering")),i.a.createElement("div",{className:"head",id:"cloc"},i.a.createElement("h3",null,"Sted")),i.a.createElement("div",{className:"head",id:"cscore"},i.a.createElement("h3",{onClick:function(){t.state.flipList?(t.setState({orderText:"Kjipest \u2013 Minst kjipt \u2193",flipList:!1}),t.listRef.current.scrollToItem(0,"start")):(t.setState({orderText:"Kjipest \u2013 Minst kjipt \u2191",flipList:!0}),t.listRef.current.scrollToItem(0,"start"))}},this.state.orderText)),i.a.createElement("div",{className:"head",id:"cicon"},i.a.createElement("h3",null,"V\xe6rtyper")))),i.a.createElement("div",{id:"main"},i.a.createElement("div",{id:"list",style:{width:"100%"}},this.KjipestList(30))),i.a.createElement("script",{type:"text/javascript",src:"./script.js"}))}},{key:"render",value:function(){var e=this.state.width,t=e<=this.state.mobileWidth;return console.log(e),t?(this.state.gotData,i.a.createElement("div",null,this.renderMobilePage())):this.state.gotData?i.a.createElement("div",null,this.renderPage()):i.a.createElement("div",null)}}]),n}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(k,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[101,1,2]]]);
//# sourceMappingURL=main.637b57f1.chunk.js.map